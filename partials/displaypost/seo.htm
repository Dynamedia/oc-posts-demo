{### PAGE TITLE ###}
{% if post.seo.title %}
    {% set page_title = post.seo.title %}
{% else %}
    {% set page_title = post.title %}
{% endif %}

{### PAGE DESCRIPTION ###}
{% if post.seo.description %}
    {% set page_description = post.seo.description %}
{% elseif post.excerpt %}
    {% set page_description = post.excerpt %}
{% elseif this.page.meta_description %}
    {% set page_description = this.page.meta_description %}
{% else %}
    {% set page_description = this.theme.site_description %}
{% endif %}

{### OPENGRAPH TITLE ###}
{% if post.seo.opengraph_title %}
    {% set og_title = post.seo.opengraph_title %}
{% else %}
    {% set og_title = page_title %}
{% endif %}

{### OPENGRAPH DESCRIPTION ###}
{% if post.seo.opengraph_title %}
    {% set og_description = post.seo.opengraph_description %}
{% else %}
    {% set og_description = page_description %}
{% endif %}

{### OPENGRAPH IMAGE ###}
{% if post.images.social.facebook %}
    {% set og_image = post.images.social.facebook %}
{% elseif post.images.default %}
    {% set og_image = post.images.default %}
{% elseif this.theme.images.social.facebook %}
    {% set og_image = this.theme.images.social.facebook %}
{% endif %}

{### TWITTER TITLE ###}
{% if post.seo.twitter_title %}
    {% set twitter_title = post.seo.twitter_title %}
{% else %}
    {% set twitter_title = page_title %}
{% endif %}

{### TWITTER DESCRIPTION ###}
{% if post.seo.twitter_title %}
    {% set twitter_description = post.seo.twitter_description %}
{% else %}
    {% set twitter_description = page_description %}
{% endif %}

{### TWITTER IMAGE ###}
{% if post.images.social.twitter %}
    {% set twitter_image = post.images.social.twitter %}
{% elseif post.images.default %}
    {% set twitter_image = post.images.default %}
{% elseif this.theme.images.social.twitter %}
    {% set twitter_image = this.theme.images.social.twitter %}
{% endif %}


{% put page_title %}
    <title>{{ page_title | striptags }} | {{ this.theme.site_brand }}</title>
{% endput %}

{% put page_description %}
    <meta name="description" content="{{ page_description | striptags }}">
{% endput %}

{% put opengraph %}
    <meta property="og:title" content="{{ og_title | striptags }}" />
    <meta property="og:url" content="{{ post.url }}" />
    <meta property="og:description" content="{{ og_description | striptags }}" />
    {% if og_image %}
        <meta property="og:image" content="{{ og_image | media }}" />
    {% endif %}
{% endput %}

{% put twitter %}
    <meta name="twitter:site" content="{{ this.theme.twitter_handle }}">
    <meta name="twitter:creator" content="{{ this.theme.twitter_handle }}">
    <meta name="twitter:title" content="{{ twitter_title | striptags }}">
    <meta name="twitter:description" content="{{ twitter_description | striptags }}">
    {% if twitter_image %}
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="{{ twitter_image | media }}">
    {% else %}
        <meta name="twitter:card" content="summary">
    {% endif %}
{% endput %}
